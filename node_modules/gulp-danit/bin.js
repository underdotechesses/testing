#!/usr/bin/env node

import { createDirsIfNotExist, createFile, logger } from "./utils.js";
import {
  htmlTemplate,
  fontsTemplate,
  imagesTemplate,
  scssTemplate,
  gulpfileTemplate,
  packageJsonTemplate,
  gitignoreTemplate,
} from "./templates.js";

const { magenta, green, red } = logger;

/**
 * @desc You can find template for the project structure in the "gulp-template" folder:
 */
const createProjectStructure = async () => {
  magenta('Creating project structure...');
  try {
    await createDirsIfNotExist(['src', 'src/scss', 'src/img', 'src/fonts']);

    await createFile('src/index.html', htmlTemplate);
    await createFile('src/scss/main.scss', scssTemplate);
    await createFile('src/fonts/readme.md', fontsTemplate);
    await createFile('src/img/readme.md', imagesTemplate);
    await createFile('gulpfile.js', gulpfileTemplate);
    await createFile('package.json', packageJsonTemplate);
    await createFile('.gitignore', gitignoreTemplate);


    green('Created successfully!\n');
    magenta('-----------------------------------------------');
    green('To install dependencies, run: "npm i"');
    green('To start dev mode, run: "npm run dev"');
    magenta('Happy coding!');
    magenta('-----------------------------------------------');


  } catch (error) {
    red(error);
  }
};

await createProjectStructure();

